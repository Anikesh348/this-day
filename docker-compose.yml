
services:
  backend:
    build:
      context: ./backend
    container_name: this_day_backend_server
    ports:
      - "8081:8081"
    healthcheck:
      test: ["CMD-SHELL", "curl -fsS http://localhost:8081/health || (kill -s TERM 1 && exit 1)"]
      interval: 30s
      timeout: 5s
      retries: 3
      start_period: 15s
    restart: always
  frontend:
    build:
      context: ./frontend/this-day
    container_name: this_day_frontend_server
    ports:
     - "3001:3001"
    restart: always
